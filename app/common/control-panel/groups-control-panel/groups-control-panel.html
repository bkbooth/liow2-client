<div class="row">
  <div class="col-xs-12">
    <control-panel-search query="$ctrl.query"
                          on-search="$ctrl.onSearch($event)"
                          autofocus></control-panel-search>

    <p>
      Number of groups:
      <strong>{{ $ctrl.numberOfGroups }}</strong>,
      showing:
      <strong>{{ (($ctrl.page - 1) * $ctrl.pageSize) + 1 }}</strong>
      to
      <strong>{{
        $ctrl.page == $ctrl.numberOfPages ?
          $ctrl.numberOfGroups :
          $ctrl.page * $ctrl.pageSize
      }}</strong>
    </p>

    <uib-pagination total-items="$ctrl.numberOfGroups"
                    items-per-page="$ctrl.pageSize"
                    ng-model="$ctrl.page"
                    ng-change="$ctrl.onPaginationChange($ctrl.page)"
                    num-pages="$ctrl.numberOfPages"
                    boundary-link-numbers="true"
                    max-size="5"
                    previous-text="&laquo;"
                    next-text="&raquo;"
                    class="m-none pagination-sm"></uib-pagination>

    <table class="table table-bordered table-striped">
      <thead>
        <tr>
          <th style="width: 65px;">Logo</th>
          <th>Name</th>
          <th style="width: 90px;">Created</th>
          <th style="width: 102px;">&nbsp;</th>
        </tr>
      </thead>

      <tbody>
        <tr ng-repeat="group in $ctrl.groups track by group._id">
          <td class="text-center">
            <img ng-src="/images/group.png"
                 class="img-circle icon">
          </td>
          <td>{{ ::group.name }}</td>
          <td>{{ ::group.created | moment:'L' }}</td>
          <td>
            <div class="btn-group" uib-dropdown>
              <button type="button"
                      class="btn btn-default"
                      uib-dropdown-toggle>
                Actions
                <span class="caret"></span>
              </button>
              <ul class="dropdown-menu-right" uib-dropdown-menu>
                <li ng-if="group.welcomeMessage">
                  <a ng-click="$ctrl.Modal.openAlert(group.welcomeMessage, group.name + ' Welcome Message', 'md')" href>
                    <i class="fa fa-fw fa-commenting"></i>
                    Welcome Message
                  </a>
                </li>
                <li>
                  <a ng-href="/g/{{ ::group.urlName }}">
                    <i class="fa fa-fw fa-users"></i>
                    View Public Page
                  </a>
                </li>
                <li>
                  <a ui-sref="controlPanel.group({ groupId: group._id })">
                    <i class="fa fa-fw fa-cogs"></i>
                    View Admin Page
                  </a>
                </li>
              </ul>
            </div>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
</div>
