<jumbotron image="/images/group.png"
           background="{{ $ctrl.jumbotronBackground }}"
           title="{{ $ctrl.Group.current.name }}"
           text="
             <span class='label label-primary m-r-sm'>
               {{ $ctrl.Act.counters[$ctrl.Group.current._id] | number }}
             </span> acts of love
           "></jumbotron>

<div class="container container-pad">
  <div class="row">
    <div ng-hide="$ctrl.loading || $ctrl.error">
      <div class="col-sm-9">
        <uib-alert type="info"
                   ng-show="$ctrl.showCampaignAlert"
                   close="$ctrl.showCampaignAlert = false">
          You haven't got an active campaign, would you like to set one up now?
          <button class="btn btn-info m-l-sm p-xs"
                  ng-click="$ctrl.setupCampaign($ctrl.Group.current)">
            Setup Campaign
          </button>
        </uib-alert>

        <blockquote marked="$ctrl.Group.current.welcomeMessage"
                    ng-show="$ctrl.Group.current.welcomeMessage"></blockquote>

        <div ng-hide="$ctrl.Group.current.welcomeMessage">
          <h2>
            The Love is our Weapon Campaign is a youth movement that exists to
            change cities through the love of Jesus by doing strategic practical
            acts of love.
          </h2>
          <p>
            Thousands of people, doing thousands of acts of love, bringing
            change, value, healing and hope throughout cities and communities
            everywhere.
          </p>
        </div>
      </div>

      <div class="col-sm-3">
        <button type="button"
                class="btn btn-primary btn-block btn-lg"
                ng-click="$ctrl.User.isAuthenticated() ?
                  $ctrl.addUserToGroup($ctrl.User.current, $ctrl.Group.current) :
                  $ctrl.Modal.openLogin()"
                ng-if="!$ctrl.User.isMemberOfGroup($ctrl.Group.current)">
          <i class="fa fa-fw fa-users"></i>
          <span ng-hide="$ctrl.User.isAuthenticated()">Login &amp; </span>
          Join us
        </button>
        <button type="button"
                class="btn btn-default btn-block"
                ng-click="$ctrl.setupCampaign($ctrl.Group.current)"
                ng-if="$ctrl.showCampaignAlert">
          <i class="fa fa-fw fa-bullhorn"></i>
          Setup campaign
        </button>
        <button type="button"
                class="btn btn-default btn-block"
                ng-click="$ctrl.Modal.openGroupEdit('update', $ctrl.Group.current)"
                ng-if="$ctrl.Group.isAdmin($ctrl.Group.current, $ctrl.User.current)">
          <i class="fa fa-fw fa-edit"></i>
          Update group
        </button>
      </div>
    </div>

    <div class="col-xs-12" ng-show="$ctrl.loading">
      <p class="text-center">
        <i class="fa fa-cog fa-5x fa-spin"></i>
      </p>
    </div>

    <div class="col-xs-12" ng-show="$ctrl.error">
      <uib-alert type="danger">
        <i class="fa fa-exclamation-triangle"></i>
        {{ $ctrl.error }}
      </uib-alert>
    </div>
  </div>
</div>
