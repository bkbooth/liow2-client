<div class="row">
  <div class="col-xs-12">
    <div class="input-group m-b-md">
      <span class="input-group-addon">
        <i class="fa fa-search"></i>
      </span>
      <input type="text"
             class="form-control"
             placeholder="Search..."
             ng-model="$ctrl.query"
             ng-change="$ctrl.search($ctrl.query)"
             autofocus>
    </div>

    <table class="table table-bordered table-striped" ng-hide="$ctrl.loading">
      <thead>
        <tr>
          <th style="width: 65px;">Logo</th>
          <th>Name</th>
          <th style="width: 90px;">Created</th>
          <th style="width: 102px;">&nbsp;</th>
        </tr>
      </thead>

      <tbody>
        <tr ng-repeat="group in $ctrl.groups track by group._id">
          <td class="text-center">
            <img ng-src="/images/group.png"
                 class="img-circle icon">
          </td>
          <td>{{ group.name }}</td>
          <td>{{ group.created | moment:'L' }}</td>
          <td>
            <div class="btn-group">
              <button type="button"
                      class="btn btn-default dropdown-toggle"
                      data-toggle="dropdown">
                Actions
                <span class="caret"></span>
              </button>
              <ul class="dropdown-menu dropdown-menu-right">
                <li ng-if="group.welcomeMessage">
                  <a ng-click="$ctrl.Modal.openAlert(group.welcomeMessage, 'md', group.name + ' Welcome Message')" href>
                    <i class="fa fa-fw fa-commenting"></i>
                    Welcome Message
                  </a>
                </li>
                <li>
                  <a ng-href="/g/{{ group.urlName }}">
                    <i class="fa fa-fw fa-users"></i>
                    View Public Page
                  </a>
                </li>
                <li>
                  <a ng-href="/control-panel?active=group-{{ group._id }}">
                    <i class="fa fa-fw fa-cogs"></i>
                    View Admin Page
                  </a>
                </li>
              </ul>
            </div>
          </td>
        </tr>
      </tbody>
    </table>

    <p class="text-center" ng-show="$ctrl.loading">
      <i class="fa fa-cog fa-5x fa-spin"></i>
    </p>
  </div>
</div>
